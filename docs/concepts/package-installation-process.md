---
title: Was geschieht bei der Paketinstallation?
description: Detaillierte Informationen zum Vorgang der Paketinstallation
author: karann-msft
ms.author: karann
ms.date: 06/20/2019
ms.topic: conceptual
ms.openlocfilehash: 634c421499b06f6b62d88a95f8703614dec5ace8
ms.sourcegitcommit: 53b06e27bcfef03500a69548ba2db069b55837f1
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/19/2020
ms.locfileid: "97699760"
---
# <a name="what-happens-when-a-nuget-package-is-installed"></a><span data-ttu-id="c97ab-103">Was geschieht beim Installieren eines NuGet-Pakets?</span><span class="sxs-lookup"><span data-stu-id="c97ab-103">What happens when a NuGet package is installed?</span></span>

<span data-ttu-id="c97ab-104">Die verschiedenen NuGet-Tools erstellen typischerweise einen Verweis auf ein Paket in der Projektdatei oder `packages.config` und führen dann eine Paketwiederherstellung durch, die das Paket effektiv installiert.</span><span class="sxs-lookup"><span data-stu-id="c97ab-104">Simply said, the different NuGet tools typically create a reference to a package in the project file or `packages.config`, then perform a package restore, which effectively installs the package.</span></span> <span data-ttu-id="c97ab-105">`nuget install` ist die Ausnahme, bei der das Paket nur in einen `packages`-Ordner erweitert wird, andere Dateien jedoch unverändert bleiben.</span><span class="sxs-lookup"><span data-stu-id="c97ab-105">The exception is `nuget install`, which only expands the package into a `packages` folder and does not modify any other files.</span></span>

<span data-ttu-id="c97ab-106">Im Allgemeinen läuft der Prozess wie folgt ab:</span><span class="sxs-lookup"><span data-stu-id="c97ab-106">The general process is as follows:</span></span>

1. <span data-ttu-id="c97ab-107">Der Paketbezeichner und die Paketversion werden in der Projektdatei oder `packages.config` aufgezeichnet (gilt für alle Tools mit Ausnahme von `nuget.exe`).</span><span class="sxs-lookup"><span data-stu-id="c97ab-107">(All tools except `nuget.exe`) Record the package identifier and version into the project file or `packages.config`.</span></span>

   <span data-ttu-id="c97ab-108">Wenn als Installationstool Visual Studio oder die dotnet-CLI verwendet werden, wird zunächst versucht, das Paket zu installieren.</span><span class="sxs-lookup"><span data-stu-id="c97ab-108">If the installation tool is Visual Studio or the dotnet CLI, the tool first attempts to install the package.</span></span> <span data-ttu-id="c97ab-109">Falls eine Inkompatibilität vorliegt, wird das Paket nicht zur Projektdatei oder zu `packages.config` hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="c97ab-109">If it's incompatible, the package is not added to the project file or `packages.config`.</span></span>

2. <span data-ttu-id="c97ab-110">Erhalten des Pakets:</span><span class="sxs-lookup"><span data-stu-id="c97ab-110">Acquire the package:</span></span>
   - <span data-ttu-id="c97ab-111">Überprüfen Sie, ob das Paket (mit exaktem Bezeichner und Versionsnummer) bereits im Ordner *global-packages* installiert ist, wie unter [Verwalten der globalen Paketordner und Cacheordner](../consume-packages/managing-the-global-packages-and-cache-folders.md) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c97ab-111">Check if the package (by exact identifer and version number) is already installed in the *global-packages* folder as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

   - <span data-ttu-id="c97ab-112">Wenn sich das Paket nicht im Ordner *global-packages* befindet, versuchen Sie, es aus den in den [Konfigurationsdateien](../consume-packages/Configuring-NuGet-Behavior.md) aufgelisteten Quellen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="c97ab-112">If the package is not in the *global-packages* folder, attempt to retrieve it from the sources listed in the [configuration files](../consume-packages/Configuring-NuGet-Behavior.md).</span></span> <span data-ttu-id="c97ab-113">Bei Onlinequellen wird zunächst versucht, das Paket aus dem HTTP-Cache abzurufen, es sei denn, `-NoCache` wird mit `nuget.exe`-Befehlen oder `--no-cache` mit `dotnet restore` angegeben.</span><span class="sxs-lookup"><span data-stu-id="c97ab-113">For online sources, attempt first to retrieve the package from the HTTP cache unless `-NoCache` is specified with `nuget.exe` commands or `--no-cache` is specified with `dotnet restore`.</span></span> <span data-ttu-id="c97ab-114">(Visual Studio und `dotnet add package` verwenden immer den Cache.) Wenn ein Paket aus dem Cache verwendet wird, erscheint „CACHE“ in der Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="c97ab-114">(Visual Studio and `dotnet add package` always use the cache.) If a package is used from the cache, "CACHE" appears in the output.</span></span> <span data-ttu-id="c97ab-115">Die Ablaufzeit des Caches beträgt 30 Minuten.</span><span class="sxs-lookup"><span data-stu-id="c97ab-115">The cache has an expiration time of 30 minutes.</span></span>

   - <span data-ttu-id="c97ab-116">Wenn das Paket mithilfe einer [unverankerten Version](../consume-packages/Package-References-in-Project-Files.md#floating-versions) angegeben wurde oder ohne Mindestversion, *kontaktiert NuGet* alle Quellen, um die beste Übereinstimmung zu finden.</span><span class="sxs-lookup"><span data-stu-id="c97ab-116">If the package has been specified using a [floating version](../consume-packages/Package-References-in-Project-Files.md#floating-versions), or without a minimum version, NuGet *will* contact all sources to figure out the best match.</span></span>
   <span data-ttu-id="c97ab-117">Beispiel: `1.*`, `(, 2.0.0]`.</span><span class="sxs-lookup"><span data-stu-id="c97ab-117">Example: `1.*`, `(, 2.0.0]`.</span></span>

   - <span data-ttu-id="c97ab-118">Wenn sich das Paket nicht im HTTP-Cache befindet, wird versucht, es aus den in der Konfiguration aufgeführten Quellen herunterzuladen.</span><span class="sxs-lookup"><span data-stu-id="c97ab-118">If the package is not in the HTTP cache, attempt to download it from the sources listed in the configuration.</span></span> <span data-ttu-id="c97ab-119">Wird ein Paket heruntergeladen, erscheinen „GET“ und „OK“ in der Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="c97ab-119">If a package is downloaded, "GET" and "OK" appear in the output.</span></span> <span data-ttu-id="c97ab-120">NuGet protokolliert den HTTP-Datenverkehr mit normaler Ausführlichkeit.</span><span class="sxs-lookup"><span data-stu-id="c97ab-120">NuGet logs http traffic on normal verbosity.</span></span>

   - <span data-ttu-id="c97ab-121">Wenn das Paket nicht erfolgreich aus einer Quelle bezogen werden kann, tritt bei der Installation an dieser Stelle ein Fehler auf, z.B. [NU1103](../reference/errors-and-warnings/NU1103.md).</span><span class="sxs-lookup"><span data-stu-id="c97ab-121">If the package cannot be successfully acquired from any sources, installation fails at this point with an error such as [NU1103](../reference/errors-and-warnings/NU1103.md).</span></span> <span data-ttu-id="c97ab-122">Beachten Sie, dass Fehler von `nuget.exe`-Befehlen nur die zuletzt geprüfte Quelle anzeigen, aber implizieren, dass das Paket aus keiner Quelle abgerufen werden konnte.</span><span class="sxs-lookup"><span data-stu-id="c97ab-122">Note that errors from `nuget.exe` commands show only the last source checked, but implies that the package wasn't available from any source.</span></span>

   <span data-ttu-id="c97ab-123">Beim Beziehen des Pakets gilt möglicherweise die Reihenfolge der Quellen in der NuGet-Konfiguration:</span><span class="sxs-lookup"><span data-stu-id="c97ab-123">When acquiring the package, the order of sources in the NuGet configuration may apply:</span></span>

   - <span data-ttu-id="c97ab-124">NuGet überprüft zuerst die lokalen Ordner und Netzwerkfreigaben der Quellen und dann erst HTTP-Quellen.</span><span class="sxs-lookup"><span data-stu-id="c97ab-124">NuGet checks sources local folder and network shares before checking HTTP sources.</span></span>

3. <span data-ttu-id="c97ab-125">Speicherung einer Kopie des Pakets und anderer Informationen im Ordner *http-cache*, wie unter [Verwalten der globalen Paketordner und Cacheordner](../consume-packages/managing-the-global-packages-and-cache-folders.md) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c97ab-125">Save a copy of the package and other information in the *http-cache* folder as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

4. <span data-ttu-id="c97ab-126">Wenn Sie das Paket heruntergeladen haben, installieren Sie es pro Benutzer im Ordner *global-packages*.</span><span class="sxs-lookup"><span data-stu-id="c97ab-126">If downloaded, install the package into the per-user *global-packages* folder.</span></span> <span data-ttu-id="c97ab-127">NuGet erstellt einen Unterordner für jeden Paketbezeichner und erstellt dann Unterordner für jede installierte Version des Pakets.</span><span class="sxs-lookup"><span data-stu-id="c97ab-127">NuGet creates a subfolder for each package identifier, then creates subfolders for each installed version of the package.</span></span>

5. <span data-ttu-id="c97ab-128">NuGet installiert bei Bedarf Paketabhängigkeiten.</span><span class="sxs-lookup"><span data-stu-id="c97ab-128">NuGet installs package dependencies as required.</span></span> <span data-ttu-id="c97ab-129">Möglicherweise werden bei diesem Prozess Paketversionen im Prozess aktualisiert, wie in [Abhängigkeitsauflösung](../concepts/dependency-resolution.md) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c97ab-129">This process might update package versions in the process, as described in [Dependency Resolution](../concepts/dependency-resolution.md).</span></span>

6. <span data-ttu-id="c97ab-130">Aktualisieren Sie andere Projektdateien und -ordner:</span><span class="sxs-lookup"><span data-stu-id="c97ab-130">Update other project files and folders:</span></span>

    - <span data-ttu-id="c97ab-131">Bei Projekten, die PackageReference verwenden, aktualisieren Sie das in `obj/project.assets.json` gespeicherte Abhängigkeitsdiagramm für das Paket.</span><span class="sxs-lookup"><span data-stu-id="c97ab-131">For projects using PackageReference, update the package dependency graph stored in `obj/project.assets.json`.</span></span> <span data-ttu-id="c97ab-132">Paketinhalte selbst werden nicht in einen Projektordner kopiert.</span><span class="sxs-lookup"><span data-stu-id="c97ab-132">Package contents themselves are not copied into any project folder.</span></span>
    - <span data-ttu-id="c97ab-133">Aktualisieren Sie `app.config` und/oder `web.config`, wenn das Paket [Transformationen von Quell- und Konfigurationsdateien](../create-packages/source-and-config-file-transformations.md) verwendet.</span><span class="sxs-lookup"><span data-stu-id="c97ab-133">Update `app.config` and/or `web.config` if the package uses [source and config file transformations](../create-packages/source-and-config-file-transformations.md).</span></span>

7. <span data-ttu-id="c97ab-134">(Nur Visual Studio) Zeigt die Infodatei des Pakets, falls vorhanden, in einem Visual Studio-Fenster.</span><span class="sxs-lookup"><span data-stu-id="c97ab-134">(Visual Studio only) Display the package's readme file, if available, in a Visual Studio window.</span></span>

<span data-ttu-id="c97ab-135">Nutzen Sie NuGet-Pakete, um produktiv zu programmieren.</span><span class="sxs-lookup"><span data-stu-id="c97ab-135">Enjoy your productive coding with NuGet packages!</span></span>
