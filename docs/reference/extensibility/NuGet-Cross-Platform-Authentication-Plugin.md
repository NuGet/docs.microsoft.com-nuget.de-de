---
title: Plattformübergreifendes Authentifizierungs-Plug-In für NuGet
description: Nuget-Plug-in für die plattformübergreifende Authentifizierung für nuget. exe, dotnet. exe, MSBuild. exe und Visual Studio
author: nkolev92
ms.author: nikolev
ms.date: 07/01/2018
ms.topic: conceptual
ms.openlocfilehash: a716737343ea826d28da6de46c32ca73aef590bd
ms.sourcegitcommit: efc18d484fdf0c7a8979b564dcb191c030601bb4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/18/2019
ms.locfileid: "68317280"
---
# <a name="nuget-cross-platform-authentication-plugin"></a><span data-ttu-id="ba7b6-103">Plattformübergreifendes Authentifizierungs-Plug-In für NuGet</span><span class="sxs-lookup"><span data-stu-id="ba7b6-103">NuGet cross platform authentication plugin</span></span>

<span data-ttu-id="ba7b6-104">Ab Version 4.8 können alle nuget-Clients ("nuget. exe", "Visual Studio", "dotnet. exe" und "MSBuild. exe") ein Authentifizierungs-Plug-in verwenden, das auf dem [nuget-plattformübergreifenden](NuGet-Cross-Platform-Plugins.md) Plug-in-Modell</span><span class="sxs-lookup"><span data-stu-id="ba7b6-104">In version 4.8+, all NuGet clients (NuGet.exe, Visual Studio, dotnet.exe and MSBuild.exe) can use an authentication plugin built on top of the [NuGet cross platform plugins](NuGet-Cross-Platform-Plugins.md) model.</span></span>

## <a name="authentication-in-dotnetexe"></a><span data-ttu-id="ba7b6-105">Authentifizierung in "dotnet. exe"</span><span class="sxs-lookup"><span data-stu-id="ba7b6-105">Authentication in dotnet.exe</span></span>

<span data-ttu-id="ba7b6-106">Visual Studio und "nuget. exe" sind standardmäßig interaktiv.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-106">Visual Studio and NuGet.exe are by default interactive.</span></span> <span data-ttu-id="ba7b6-107">"Nuget. exe" enthält einen Switch, um ihn als [nicht interaktiv](../nuget-exe-CLI-Reference.md)zu gestalten.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-107">NuGet.exe contains a switch to make it [non interactive](../nuget-exe-CLI-Reference.md).</span></span>
<span data-ttu-id="ba7b6-108">Zusätzlich werden die Plug-ins "nuget. exe" und "Visual Studio" den Benutzer zur Eingabe auffordern.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-108">Additionally the NuGet.exe and Visual Studio plugins prompt the user for input.</span></span>
<span data-ttu-id="ba7b6-109">In "dotnet. exe" gibt es keine Eingabeaufforderung, und der Standardwert ist "nicht interaktiv".</span><span class="sxs-lookup"><span data-stu-id="ba7b6-109">In dotnet.exe there is no prompting and the default is non interactive.</span></span>

<span data-ttu-id="ba7b6-110">Der Authentifizierungsmechanismus in "dotnet. exe" ist der Geräte Fluss.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-110">The authentication mechanism in dotnet.exe is device flow.</span></span> <span data-ttu-id="ba7b6-111">Wenn der Vorgang zum Wiederherstellen oder Hinzufügen eines Pakets interaktiv ausgeführt wird, werden der Vorgang blockiert, und es wird beschrieben, wie die Authentifizierungen durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-111">When the restore or add package operation is run interactively, the operation blocks and instructions to the user how to complete the authentications will be provided on the command line.</span></span>
<span data-ttu-id="ba7b6-112">Wenn der Benutzer die Authentifizierung abschließt, wird der Vorgang fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-112">When the user completes the authentication the operation will continue.</span></span>

<span data-ttu-id="ba7b6-113">Um den Vorgang interaktiv durchführen zu können, `--interactive`sollte eine bestanden werden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-113">To make the operation interactive, one should pass `--interactive`.</span></span>
<span data-ttu-id="ba7b6-114">Zurzeit unterstützen `dotnet restore` nur `dotnet add package` die expliziten Befehle und einen interaktiven Switch.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-114">Currently only the explicit `dotnet restore` and `dotnet add package` commands support an interactive switch.</span></span>
<span data-ttu-id="ba7b6-115">Es gibt keinen interaktiven Switch für `dotnet build` und `dotnet publish`.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-115">There is no interactive switch on `dotnet build` and `dotnet publish`.</span></span>

## <a name="authentication-in-msbuild"></a><span data-ttu-id="ba7b6-116">Authentifizierung in MSBuild</span><span class="sxs-lookup"><span data-stu-id="ba7b6-116">Authentication in MSBuild</span></span>

<span data-ttu-id="ba7b6-117">Ähnlich wie bei "dotnet. exe" ist "MSBuild. exe" standardmäßig nicht interaktiv. der Authentifizierungsmechanismus "MSBuild. exe" ist der Geräte Fluss.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-117">Similar to dotnet.exe, MSBuild.exe is by default non interactive the MSBuild.exe authentication mechanism is device flow.</span></span>
<span data-ttu-id="ba7b6-118">Um die Wiederherstellung anzuhalten und auf die Authentifizierung zu warten, wenden Sie `msbuild -t:restore -p:NuGetInteractive="true"`Restore with an.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-118">To allow the restore to pause and wait for authentication, call restore with `msbuild -t:restore -p:NuGetInteractive="true"`.</span></span>

## <a name="creating-a-cross-platform-authentication-plugin"></a><span data-ttu-id="ba7b6-119">Erstellen eines plattformübergreifenden Authentifizierungs-Plug-ins</span><span class="sxs-lookup"><span data-stu-id="ba7b6-119">Creating a cross platform authentication plugin</span></span>

<span data-ttu-id="ba7b6-120">Eine Beispiel Implementierung finden Sie im [Microsoft Credential Provider-Plug](https://github.com/Microsoft/artifacts-credprovider)-in.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-120">A sample implementation can be found in [Microsoft Credential Provider plugin](https://github.com/Microsoft/artifacts-credprovider).</span></span>

<span data-ttu-id="ba7b6-121">Es ist sehr wichtig, dass die Plug-ins den Sicherheitsanforderungen entsprechen, die von den nuget-Client Tools festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-121">It's very important that the plugins conforms to the security requirements set forth by the NuGet client tools.</span></span>
<span data-ttu-id="ba7b6-122">Die mindestens erforderliche Version für ein Plug-in als Authentifizierungs-Plug-in ist *2.0.0*.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-122">The minimum required version for a plugin to be an authentication plugin is *2.0.0*.</span></span>
<span data-ttu-id="ba7b6-123">Nuget führt den Handshake mit dem Plug-in durch und fragt die unterstützten Vorgangs Ansprüche ab.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-123">NuGet will perform the handshake with the plugin and query for the supported operation claims.</span></span>
<span data-ttu-id="ba7b6-124">Weitere Informationen zu den spezifischen Nachrichten finden Sie in den nuget- [Protokollmeldungen](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) zum plattformübergreifenden Plug-in.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-124">Please refer to the NuGet cross platform plugin [protocol messages](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) for more details about the specific messages.</span></span>

<span data-ttu-id="ba7b6-125">Nuget legt die Protokollebene fest und stellt ggf. Proxy Informationen für das Plug-in bereit.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-125">NuGet will set the log level and provide proxy information to the plugin when applicable.</span></span>
<span data-ttu-id="ba7b6-126">Die Protokollierung in der nuget-Konsole ist nur akzeptabel, wenn nuget die Protokollebene auf das Plug-in festgelegt hat.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-126">Logging to the NuGet console is only acceptable after NuGet has set the log level to the plugin.</span></span>

- <span data-ttu-id="ba7b6-127">.NET Framework Plug-in-Authentifizierungs Verhalten</span><span class="sxs-lookup"><span data-stu-id="ba7b6-127">.NET Framework plugin authentication behavior</span></span>

<span data-ttu-id="ba7b6-128">In .NET Framework können die Plug-ins einen Benutzer in Form eines Dialog Felds zur Eingabe auffordern.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-128">In .NET Framework, the plugins are allowed to prompt a user for input, in the form of a dialog.</span></span>

- <span data-ttu-id="ba7b6-129">.Net Core-Plug-in-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="ba7b6-129">.NET Core plugin authentication behavior</span></span>

<span data-ttu-id="ba7b6-130">In .net Core kann ein Dialogfeld nicht angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-130">In .NET Core, a dialog cannot be shown.</span></span> <span data-ttu-id="ba7b6-131">Die Plug-ins sollten zum Authentifizieren den Geräte Fluss verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-131">The plugins should use device flow to authenticate.</span></span>
<span data-ttu-id="ba7b6-132">Das Plug-in kann Protokollmeldungen mit Anweisungen an den Benutzer an nuget senden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-132">The plugin can send log messages to NuGet with instructions to the user.</span></span>
<span data-ttu-id="ba7b6-133">Beachten Sie, dass die Protokollierung verfügbar ist, nachdem die Protokollebene auf das Plug-in festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-133">Note that logging is available after the log level has been set to the plugin.</span></span>
<span data-ttu-id="ba7b6-134">Nuget übernimmt keine interaktive Eingabe von der Befehlszeile aus.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-134">NuGet will not take any interactive input from the command line.</span></span>

<span data-ttu-id="ba7b6-135">Wenn der Client das Plug-in mit den Anmelde Informationen für die Authentifizierung Get aufruft, müssen die Plug-ins dem Interaktivität-Switch entsprechen und den Dialog Schalter berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-135">When the client calls the plugin with a Get Authentication Credentials, the plugins need to conform to the interactivity switch and respect the dialog switch.</span></span> 

<span data-ttu-id="ba7b6-136">In der folgenden Tabelle wird das Verhalten des Plug-Ins für alle Kombinationen zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-136">The following table summarizes how the plugin should behave for all combinations.</span></span>

| <span data-ttu-id="ba7b6-137">Isnoninteractive</span><span class="sxs-lookup"><span data-stu-id="ba7b6-137">IsNonInteractive</span></span> | <span data-ttu-id="ba7b6-138">Canshowdialog</span><span class="sxs-lookup"><span data-stu-id="ba7b6-138">CanShowDialog</span></span> | <span data-ttu-id="ba7b6-139">Plugin-Verhalten</span><span class="sxs-lookup"><span data-stu-id="ba7b6-139">Plugin behavior</span></span> |
| ---------------- | ------------- | --------------- |
| <span data-ttu-id="ba7b6-140">true</span><span class="sxs-lookup"><span data-stu-id="ba7b6-140">true</span></span> | <span data-ttu-id="ba7b6-141">true</span><span class="sxs-lookup"><span data-stu-id="ba7b6-141">true</span></span> | <span data-ttu-id="ba7b6-142">Der Schalter isnoninteractive hat Vorrang vor dem Dialogfeld Switch.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-142">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="ba7b6-143">Das Plug-in ist nicht berechtigt, ein Dialogfeld zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-143">The plugin is not allowed to pop a dialog.</span></span> <span data-ttu-id="ba7b6-144">Diese Kombination gilt nur für .NET Framework-Plug-ins.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-144">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="ba7b6-145">true</span><span class="sxs-lookup"><span data-stu-id="ba7b6-145">true</span></span> | <span data-ttu-id="ba7b6-146">false</span><span class="sxs-lookup"><span data-stu-id="ba7b6-146">false</span></span> | <span data-ttu-id="ba7b6-147">Der Schalter isnoninteractive hat Vorrang vor dem Dialogfeld Switch.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-147">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="ba7b6-148">Das Plug-in darf nicht blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-148">The plugin is not allowed to block.</span></span> <span data-ttu-id="ba7b6-149">Diese Kombination ist nur für .net Core-Plug-ins gültig.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-149">This combination is only valid for .NET Core plugins</span></span> |
| <span data-ttu-id="ba7b6-150">false</span><span class="sxs-lookup"><span data-stu-id="ba7b6-150">false</span></span> | <span data-ttu-id="ba7b6-151">true</span><span class="sxs-lookup"><span data-stu-id="ba7b6-151">true</span></span> | <span data-ttu-id="ba7b6-152">Das Plug-in sollte ein Dialogfeld anzeigen.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-152">The plugin should show a dialog.</span></span> <span data-ttu-id="ba7b6-153">Diese Kombination gilt nur für .NET Framework-Plug-ins.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-153">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="ba7b6-154">false</span><span class="sxs-lookup"><span data-stu-id="ba7b6-154">false</span></span> | <span data-ttu-id="ba7b6-155">false</span><span class="sxs-lookup"><span data-stu-id="ba7b6-155">false</span></span> | <span data-ttu-id="ba7b6-156">Das Plug-in sollte/kann ein Dialogfeld nicht anzeigen.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-156">The plugin should/can not show a dialog.</span></span> <span data-ttu-id="ba7b6-157">Das Plug-in sollte mithilfe des Geräte Flusses authentifiziert werden, indem eine Anweisungs Nachricht über die Protokollierung protokolliert wird.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-157">The plugin should use device flow to authenticate by logging an instruction message via the logger.</span></span> <span data-ttu-id="ba7b6-158">Diese Kombination ist nur für .net Core-Plug-ins gültig.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-158">This combination is only valid for .NET Core plugins</span></span> |

<span data-ttu-id="ba7b6-159">Weitere Informationen finden Sie in den folgenden Spezifikationen, bevor Sie ein Plug-in schreiben.</span><span class="sxs-lookup"><span data-stu-id="ba7b6-159">Please refer to the following specs before writing a plugin.</span></span>

- [<span data-ttu-id="ba7b6-160">Plug-in für nuget-Paket</span><span class="sxs-lookup"><span data-stu-id="ba7b6-160">NuGet Package Download Plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-Package-Download-Plugin)
- [<span data-ttu-id="ba7b6-161">Nuget-Plug-in für die nuget-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="ba7b6-161">NuGet cross plat authentication plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-cross-plat-authentication-plugin)
