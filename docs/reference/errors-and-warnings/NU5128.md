---
title: Nuget-Warnung NU5128
description: NU5128-Warnungs Code
author: zivkan
ms.date: 09/06/2019
ms.topic: reference
ms.reviewer: karann
f1_keywords:
- NU5128
ms.openlocfilehash: d1ce9fde28eff60b81f464088637572e6ad71a49
ms.sourcegitcommit: e4b0ff4460865db6dc7bc9f20e9f644d98493011
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/26/2019
ms.locfileid: "71307198"
---
# <a name="nuget-warning-nu5128"></a><span data-ttu-id="bb898-103">Nuget-Warnung NU5128</span><span class="sxs-lookup"><span data-stu-id="bb898-103">NuGet Warning NU5128</span></span>

## <a name="scenario-1"></a><span data-ttu-id="bb898-104">Szenario 1</span><span class="sxs-lookup"><span data-stu-id="bb898-104">Scenario 1</span></span>

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder do not have exact matches in the other location. Consult the list of actions below:
- Add a dependency group for .NETStandard2.0 to the nuspec</pre>

### <a name="issue"></a><span data-ttu-id="bb898-105">Problem</span><span class="sxs-lookup"><span data-stu-id="bb898-105">Issue</span></span>

<span data-ttu-id="bb898-106">Das `lib/<tfm>/` Verzeichnis `ref/<tfm>/` oder im Paket enthält mindestens eine Datei für den [zielframeworkmoniker (Target Framework Moniker, TFM)](../target-frameworks.md) , der in der Warnmeldung angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="bb898-106">The `lib/<tfm>/` or `ref/<tfm>/` directory in the package contains at least one file for the [Target Framework Moniker (TFM)](../target-frameworks.md) specified in the warning message.</span></span> <span data-ttu-id="bb898-107">Es ist jedoch keine Abhängigkeits Gruppe für diesen TFM in `nuspec` der Datei vorhanden.</span><span class="sxs-lookup"><span data-stu-id="bb898-107">However, no dependency group exists for this TFM in the `nuspec` file.</span></span> <span data-ttu-id="bb898-108">Dies kann dazu führen, dass paketconsumer der Meinung sind, dass das Paket nicht mit dem TFM kompatibel ist, auch wenn das Paket nicht über Abhängigkeiten verfügt.</span><span class="sxs-lookup"><span data-stu-id="bb898-108">This may cause package consumers to believe the package is not compatible with the TFM, even if the package does not have dependencies.</span></span> <span data-ttu-id="bb898-109">Wenn das Paket nicht deklarierte Abhängigkeiten aufweist, treten beim Projekt, das das Paket verwendet, Laufzeitfehler auf.</span><span class="sxs-lookup"><span data-stu-id="bb898-109">If the package has undeclared dependencies, the project using the package will experience runtime errors.</span></span>

### <a name="solution"></a><span data-ttu-id="bb898-110">Lösung</span><span class="sxs-lookup"><span data-stu-id="bb898-110">Solution</span></span>

* <span data-ttu-id="bb898-111">Ausführen des Paket Ziels von nuget für das Projekt</span><span class="sxs-lookup"><span data-stu-id="bb898-111">Run NuGet's pack target on the project</span></span>

<span data-ttu-id="bb898-112">Verwenden Sie nach Möglichkeit [das MSBuild Pack-Ziel von nuget](../msbuild-targets.md), da es automatisch mit den Abhängigkeits Gruppen aus den Ziel-Frameworks des Projekts übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="bb898-112">If possible, use [NuGet's MSBuild pack target](../msbuild-targets.md), as it automatically matches assembly TFMs with dependency groups from the project's target frameworks.</span></span> <span data-ttu-id="bb898-113">Beachten Sie, dass Ihr Projekt `PackageReference` für eigene nuget-Abhängigkeiten verwenden muss.</span><span class="sxs-lookup"><span data-stu-id="bb898-113">Note that your project must use `PackageReference` for its own NuGet dependencies.</span></span> <span data-ttu-id="bb898-114">Wenn das Projekt "Packages. config" verwendet, müssen Sie `nuget.exe pack` und eine `nuspec` Datei verwenden.</span><span class="sxs-lookup"><span data-stu-id="bb898-114">If your project uses packages.config, you need to use `nuget.exe pack` and a `nuspec` file.</span></span>

* <span data-ttu-id="bb898-115">Manuell bearbeitete `nuspec` Datei</span><span class="sxs-lookup"><span data-stu-id="bb898-115">Manually edited `nuspec` file</span></span>

<span data-ttu-id="bb898-116">Wenn Sie eine benutzerdefinierte `nuspec` Datei verwenden, wird empfohlen, dass jeder TFM, für den `lib/` bzw `ref/` . die Assemblys vorhanden sind, über eine übereinstimmende Abhängigkeits Gruppe verfügen muss, auch wenn die Abhängigkeiten mit dem nächsten kompatiblen TFM übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="bb898-116">If you are using a custom `nuspec` file, we recommend each TFM for which `lib/` or `ref/` assemblies exist should have a matching dependency group, even if the dependencies are the same as the next compatible TFM.</span></span> <span data-ttu-id="bb898-117">Wenn ein Paket z. b. `netstandard1.0` - `netstandard2.0` und-Assemblys enthält und die Abhängigkeiten für beide identisch sind, wird empfohlen, dass beide tfms als Abhängigkeits Gruppen mit doppelten Abhängigkeits Elementen aufgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="bb898-117">For example, if a package contains `netstandard1.0` and `netstandard2.0` assemblies, and the dependencies are the same for both, we recommend both TFMs be listed as dependency groups with duplicate dependency items.</span></span>

<span data-ttu-id="bb898-118">Beachten Sie, dass der in den assemblyppfaden verwendete TFM-Bezeichner ein anderes Format als den in Abhängigkeits Gruppen verwendeten TFM-Bezeichner verwendet.</span><span class="sxs-lookup"><span data-stu-id="bb898-118">Note that the TFM identifier used in the assembly paths use a different format to the TFM identifier used in dependency groups.</span></span> <span data-ttu-id="bb898-119">Die Warnmeldung gibt den korrekten Namen an, der in der Abhängigkeits Gruppe verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="bb898-119">The warning message specifies the correct name to use in the dependency group.</span></span> <span data-ttu-id="bb898-120">Wenn das Paket keine Abhängigkeiten für dieses Ziel Framework hat, verwenden Sie eine leere Gruppe.</span><span class="sxs-lookup"><span data-stu-id="bb898-120">If your package does not have any dependencies for that target framework, use an empty group.</span></span> <span data-ttu-id="bb898-121">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="bb898-121">For example:</span></span>

```xml
<package>
  <metadata>
    ...
    <dependencies>
      <group targetFramework=".NETFramework4.7.2" />
    </dependencies>
  </metadata>
  ...
<package>
```

* <span data-ttu-id="bb898-122">Entfernen der `lib/` - `ref/` oder-Dateien</span><span class="sxs-lookup"><span data-stu-id="bb898-122">Remove the `lib/` or `ref/` files</span></span>

<span data-ttu-id="bb898-123">Wenn Sie nicht möchten, dass Ihr Paket mit dem gemeldeten TFM kompatibel ist, ändern Sie das Projekt so, `lib/<tfm>/` dass `ref/<tfm>/` sich keine-oder-Dateien im Paket für diesen TFM befinden.</span><span class="sxs-lookup"><span data-stu-id="bb898-123">If you do not wish your package to be compatible with the reported TFM, modify your project such that no `lib/<tfm>/` or `ref/<tfm>/` files are in the package for that TFM.</span></span> <span data-ttu-id="bb898-124">Wenn beispielsweise die Warnung besagt, dass eine Abhängigkeits Gruppe für `.NETFramework4.7.2` `nuspec`hinzugefügt werden soll, entfernen `lib/net472/*` Sie `ref/net472/*` alle-und-Dateien aus dem Paket.</span><span class="sxs-lookup"><span data-stu-id="bb898-124">For example, if the warning says to add a dependency group for `.NETFramework4.7.2` to the `nuspec`, then remove any `lib/net472/*` and `ref/net472/*` files from your package.</span></span>

## <a name="scenario-2"></a><span data-ttu-id="bb898-125">Szenario 2</span><span class="sxs-lookup"><span data-stu-id="bb898-125">Scenario 2</span></span>

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder do not have exact matches in the other location. Consult the list of actions below:
- Add lib or ref assemblies for the netstandard2.0 target framework</pre>

### <a name="issue"></a><span data-ttu-id="bb898-126">Problem</span><span class="sxs-lookup"><span data-stu-id="bb898-126">Issue</span></span>

<span data-ttu-id="bb898-127">Die `nuspec` Datei enthält eine Abhängigkeits Gruppe für den gemeldeten zielframeworkmoniker (TFM), es sind jedoch keine Assemblys für `lib/` diesen `ref/`TFM in oder vorhanden.</span><span class="sxs-lookup"><span data-stu-id="bb898-127">The `nuspec` file has a dependency group for the reported Target Framework Moniker (TFM), but no assemblies exist for this TFM in either `lib/` or `ref/`.</span></span> <span data-ttu-id="bb898-128">Wenn Assemblys für einen kompatiblen TFM vorhanden sind, wird das Paket weiterhin installiert, aber die Abhängigkeiten sind möglicherweise falsch für Assemblys, die zur Kompilierzeit verwendet werden, und könnten zur Laufzeit fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="bb898-128">If there are assemblies for a compatible TFM, the package will still install, but the dependencies might be incorrect for a assemblies used at compile time and could cause the project to fail at runtime.</span></span>

### <a name="solution"></a><span data-ttu-id="bb898-129">Lösung</span><span class="sxs-lookup"><span data-stu-id="bb898-129">Solution</span></span>

* <span data-ttu-id="bb898-130">Ausführen des Paket Ziels von nuget für das Projekt</span><span class="sxs-lookup"><span data-stu-id="bb898-130">Run NuGet's pack target on the project</span></span>

<span data-ttu-id="bb898-131">Verwenden Sie nach Möglichkeit [das MSBuild Pack-Ziel von nuget](../msbuild-targets.md), da es automatisch mit den Abhängigkeits Gruppen aus den Ziel-Frameworks des Projekts übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="bb898-131">If possible, use [NuGet's MSBuild pack target](../msbuild-targets.md), as it automatically matches assembly TFMs with dependency groups from the project's target frameworks.</span></span> <span data-ttu-id="bb898-132">Beachten Sie, dass Ihr Projekt `PackageReference` für eigene nuget-Abhängigkeiten verwenden muss.</span><span class="sxs-lookup"><span data-stu-id="bb898-132">Note that your project must use `PackageReference` for its own NuGet dependencies.</span></span> <span data-ttu-id="bb898-133">Wenn das Projekt "Packages. config" verwendet, müssen Sie `nuget.exe pack` und eine `nuspec` Datei verwenden.</span><span class="sxs-lookup"><span data-stu-id="bb898-133">If your project uses packages.config, you need to use `nuget.exe pack` and a `nuspec` file.</span></span>

* <span data-ttu-id="bb898-134">Bearbeiten Sie die `nuspec` Datei manuell.</span><span class="sxs-lookup"><span data-stu-id="bb898-134">Manually edit the `nuspec` file</span></span>

<span data-ttu-id="bb898-135">Fügen Sie den gemeldeten TFM als zusätzliches Ziel Framework hinzu, für das das Projekt kompiliert wird, und fügen Sie dem Paket die Assemblys hinzu.</span><span class="sxs-lookup"><span data-stu-id="bb898-135">Add the reported TFM as an additional Target Framework for which your project compiles for, and add the assemblies to the package.</span></span> <span data-ttu-id="bb898-136">Wenn Sie ein SDK-Stil Projekt verwenden, um mehrere Zielgruppen mit mehreren Zielgruppen zu verwenden, können die MSBuild Pack-Ziele von nuget `lib/<tfm>/` automatisch Assemblys im richtigen Ordner hinzufügen und Abhängigkeits Gruppen mit den richtigen tfms und Abhängigkeiten erstellen.</span><span class="sxs-lookup"><span data-stu-id="bb898-136">If you are using an SDK style project to multi-target multiple TFMs, NuGet's MSBuild pack targets can automatically add assemblies in the correct `lib/<tfm>/` folder and create dependency groups with the correct TFMs and dependencies.</span></span> <span data-ttu-id="bb898-137">Wenn Sie ein nicht-SDK-Stil Projekt verwenden, müssen Sie wahrscheinlich eine zusätzliche Projektdatei für den zusätzlichen TFM erstellen und die `nuspec` Datei so ändern, dass die Ausgabeassemblys an der richtigen Stelle im Paket kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="bb898-137">If you are using a non-SDK style project, you will likely need to create an additional project file for the additional TFM, and modify your `nuspec` file to copy the output assemblies in the correct location in the package.</span></span>

* <span data-ttu-id="bb898-138">Leere `_._` Datei hinzufügen</span><span class="sxs-lookup"><span data-stu-id="bb898-138">Add an empty `_._` file</span></span>

<span data-ttu-id="bb898-139">Wenn das Paket keine Assemblys enthält, wie z. b. ein Meta-Paket, sollten `_._` Sie eine leere `lib/<tfm>/` Datei zu den Verzeichnissen für das in der Warnmeldung aufgeführte tfms hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="bb898-139">If your package does not contain any assemblies, such as a meta-package, consider adding an empty `_._` file to the `lib/<tfm>/` directories for the TFMs listed in the warning message.</span></span> <span data-ttu-id="bb898-140">Wenn z. b. die Warnung besagt, dass Assemblys für das `netstandard2.0` Ziel Framework hinzugefügt werden sollen, erstellen Sie eine leere `lib/netstandard2.0/_._` Datei in Ihrem Paket.</span><span class="sxs-lookup"><span data-stu-id="bb898-140">For example, if the warning says to add assemblies for the `netstandard2.0` target framework, create an empty `lib/netstandard2.0/_._` file in your package.</span></span>

* <span data-ttu-id="bb898-141">Entfernen der Abhängigkeits Gruppe</span><span class="sxs-lookup"><span data-stu-id="bb898-141">Remove the dependency group</span></span>

<span data-ttu-id="bb898-142">Wenn Sie eine benutzerdefinierte `nuspec` Datei verwenden, entfernen Sie die Abhängigkeits Gruppe für den gemeldeten TFM, sodass nur Abhängigkeits Gruppen für `lib/<tfm>/` tfms vorhanden sind, für die-oder `ref/<tfm>/` -Dateien vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="bb898-142">If you use a custom `nuspec` file, remove the dependency group for the reported TFM, leaving only dependency groups for TFMs for which `lib/<tfm>/` or `ref/<tfm>/` files exist.</span></span>

* <span data-ttu-id="bb898-143">Alle Abhängigkeiten für Pakete entfernen, die nicht mit Assemblys verknüpft sind</span><span class="sxs-lookup"><span data-stu-id="bb898-143">Remove all dependencies for packages that are not related to assemblies</span></span>

<span data-ttu-id="bb898-144">Wenn das Paket keine- `lib/` oder `ref/` -Dateien enthält und kein Metadatenpaket ist, verfügt es wahrscheinlich nicht über Abhängigkeiten, die der paketconsumer benötigt.</span><span class="sxs-lookup"><span data-stu-id="bb898-144">If your package does not contain any `lib/` or `ref/` files and is not a meta-package, it likely does not have any dependencies that the package consumer needs.</span></span> <span data-ttu-id="bb898-145">Wenn Sie das MSBuild Pack-Ziel von nuget Verpacken, können Sie in `<SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>` ihrer Projekt `PropertyGroup` Datei in beliebig festlegen.</span><span class="sxs-lookup"><span data-stu-id="bb898-145">If you are packing with NuGet's MSBuild Pack target, you can set `<SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>` in any `PropertyGroup` in your project file.</span></span> <span data-ttu-id="bb898-146">Wenn Sie eine benutzerdefinierte `nuspec` Datei verwenden, entfernen Sie das `<dependencies>` -Element.</span><span class="sxs-lookup"><span data-stu-id="bb898-146">If you are using a custom `nuspec` file, remove the `<dependencies>` element.</span></span>

* <span data-ttu-id="bb898-147">Weitere Szenarios</span><span class="sxs-lookup"><span data-stu-id="bb898-147">Other scenarios</span></span>

<span data-ttu-id="bb898-148">Diese Warnung wurde bei der Entwicklung von nuget 5.3 hinzugefügt und war zunächst in .net Core SDK 3,0 Preview 9 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="bb898-148">This warning was added during NuGet 5.3's development, and first was available in .NET Core SDK 3.0 Preview 9.</span></span> <span data-ttu-id="bb898-149">[Nuget/Home # 8583](https://github.com/nuget/home/issues/8583) verfolgt ein Problem, bei dem die Warnung in zu vielen Szenarien ausgelöst wurde.</span><span class="sxs-lookup"><span data-stu-id="bb898-149">[NuGet/Home#8583](https://github.com/nuget/home/issues/8583) tracks an issue where the warning was being raised in too many scenarios.</span></span> <span data-ttu-id="bb898-150">Sie können die `NoWarn` MSBuild-Eigenschaft (in ihrer Projekt `PropertyGroup` Datei zu beliebigen hinzufügen `<NoWarn>$(NoWarn);NU5128</NoWarn>` ) verwenden.</span><span class="sxs-lookup"><span data-stu-id="bb898-150">You can use the `NoWarn` MSBuild property (add `<NoWarn>$(NoWarn);NU5128</NoWarn>` to any `PropertyGroup` in your project file).</span></span> <span data-ttu-id="bb898-151">Wenn Sie mehrere Projekte betroffen haben, können Sie verwenden [`Directory.Build.targets`](/visualstudio/msbuild/customize-your-build) , um automatisch `NoWarn` allen Projekten hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="bb898-151">If you have multiple projects affected, you can use [`Directory.Build.targets`](/visualstudio/msbuild/customize-your-build) to automatically add `NoWarn` to all projects.</span></span>
