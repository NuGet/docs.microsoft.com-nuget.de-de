---
title: Repository-Signaturen, nuget-API | Microsoft-Dokumentation
author: joelverhagen
ms.author: jver
ms.date: 3/2/2018
ms.topic: reference
description: Mithilfe der Repository Signature-Ressource können von Clients Paketquellen Ihre Repository-Signatur Funktionen bekanntgegeben werden.
ms.reviewer:
- karann
- unniravindranathan
ms.openlocfilehash: bfdbbb3a11de3be3f2258a3a289c0188740cdfce
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/26/2021
ms.locfileid: "98775336"
---
# <a name="repository-signatures"></a><span data-ttu-id="c05c3-103">Repository-Signaturen</span><span class="sxs-lookup"><span data-stu-id="c05c3-103">Repository signatures</span></span>

<span data-ttu-id="c05c3-104">Wenn eine Paketquelle das Hinzufügen von Repository-Signaturen zu veröffentlichten Paketen unterstützt, kann ein Client die Signatur Zertifikate ermitteln, die von der Paketquelle verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-104">If a package source supports adding repository signatures to published packages, it is possible for a client to determine the signing certificates that are used by the package source.</span></span> <span data-ttu-id="c05c3-105">Mit dieser Ressource können Clients erkennen, ob ein Repository-signiertes Paket manipuliert wurde oder über ein unerwartetes Signaturzertifikat verfügt.</span><span class="sxs-lookup"><span data-stu-id="c05c3-105">This resource allows clients to detect whether a repository signed package has been tampered or has an unexpected signing certificate.</span></span>

<span data-ttu-id="c05c3-106">Die Ressource, die zum Abrufen dieser Repository-Signatur Informationen verwendet wird, ist die Ressource, die `RepositorySignatures` im [Dienst Index](service-index.md)gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="c05c3-106">The resource used for fetching this repository signature information is the `RepositorySignatures` resource found in the [service index](service-index.md).</span></span>

## <a name="versioning"></a><span data-ttu-id="c05c3-107">Versionsverwaltung</span><span class="sxs-lookup"><span data-stu-id="c05c3-107">Versioning</span></span>

<span data-ttu-id="c05c3-108">Der folgende `@type` Wert wird verwendet:</span><span class="sxs-lookup"><span data-stu-id="c05c3-108">The following `@type` value is used:</span></span>

<span data-ttu-id="c05c3-109">Wert vom Typ @type</span><span class="sxs-lookup"><span data-stu-id="c05c3-109">@type value</span></span>                | <span data-ttu-id="c05c3-110">Hinweise</span><span class="sxs-lookup"><span data-stu-id="c05c3-110">Notes</span></span>
-------------------------- | -----
<span data-ttu-id="c05c3-111">RepositorySignatures/4.7.0</span><span class="sxs-lookup"><span data-stu-id="c05c3-111">RepositorySignatures/4.7.0</span></span> | <span data-ttu-id="c05c3-112">Die erste Version</span><span class="sxs-lookup"><span data-stu-id="c05c3-112">The initial release</span></span>
<span data-ttu-id="c05c3-113">RepositorySignatures/4.9.0</span><span class="sxs-lookup"><span data-stu-id="c05c3-113">RepositorySignatures/4.9.0</span></span> | <span data-ttu-id="c05c3-114">Unterstützt von nuget-Clients mit Version 4.9 und höher</span><span class="sxs-lookup"><span data-stu-id="c05c3-114">Supported by NuGet v4.9+ clients</span></span>
<span data-ttu-id="c05c3-115">RepositorySignatures/5.0.0</span><span class="sxs-lookup"><span data-stu-id="c05c3-115">RepositorySignatures/5.0.0</span></span> | <span data-ttu-id="c05c3-116">Ermöglicht das Aktivieren von `allRepositorySigned` .</span><span class="sxs-lookup"><span data-stu-id="c05c3-116">Allows enabling `allRepositorySigned`.</span></span> <span data-ttu-id="c05c3-117">Unterstützt von nuget-Clients mit Version 5.0 und höher</span><span class="sxs-lookup"><span data-stu-id="c05c3-117">Supported by NuGet v5.0+ clients</span></span>

## <a name="base-url"></a><span data-ttu-id="c05c3-118">Basis-URL</span><span class="sxs-lookup"><span data-stu-id="c05c3-118">Base URL</span></span>

<span data-ttu-id="c05c3-119">Die Einstiegspunkt-URL für die folgenden APIs ist der Wert der `@id` Eigenschaft, die dem oben erwähnten Ressourcen Wert zugeordnet ist `@type` .</span><span class="sxs-lookup"><span data-stu-id="c05c3-119">The entry point URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` value.</span></span> <span data-ttu-id="c05c3-120">In diesem Thema wird die Platzhalter-URL verwendet `{@id}` .</span><span class="sxs-lookup"><span data-stu-id="c05c3-120">This topic uses the placeholder URL `{@id}`.</span></span>

<span data-ttu-id="c05c3-121">Beachten Sie, dass die URL im Gegensatz zu anderen Ressourcen `{@id}` über HTTPS bereitgestellt werden muss.</span><span class="sxs-lookup"><span data-stu-id="c05c3-121">Note that unlike other resources, the `{@id}` URL is required to be served over HTTPS.</span></span>

## <a name="http-methods"></a><span data-ttu-id="c05c3-122">HTTP-Methoden</span><span class="sxs-lookup"><span data-stu-id="c05c3-122">HTTP methods</span></span>

<span data-ttu-id="c05c3-123">Alle URLs, die in der Repository Signature-Ressource gefunden werden, unterstützen nur die HTTP `GET` -Methoden und `HEAD` .</span><span class="sxs-lookup"><span data-stu-id="c05c3-123">All URLs found in the repository signatures resource support only the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="repository-signatures-index"></a><span data-ttu-id="c05c3-124">Repository-Signaturen-Index</span><span class="sxs-lookup"><span data-stu-id="c05c3-124">Repository signatures index</span></span>

<span data-ttu-id="c05c3-125">Der Repository-Signatur Index enthält zwei Informationen:</span><span class="sxs-lookup"><span data-stu-id="c05c3-125">The repository signatures index contains two pieces of information:</span></span>

1. <span data-ttu-id="c05c3-126">Ob alle Pakete, die in der Quelle gefunden werden, von dieser Paketquelle signiert wurden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-126">Whether or not all packages found on the source are repository signed by this package source.</span></span>
1. <span data-ttu-id="c05c3-127">Die Liste der Zertifikate, die von der Paketquelle zum Signieren von Paketen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-127">The list of certificates used by the package source to sign packages.</span></span>

<span data-ttu-id="c05c3-128">In den meisten Fällen wird die Liste der Zertifikate nur an angefügt.</span><span class="sxs-lookup"><span data-stu-id="c05c3-128">In most cases, the list of certificates will only ever be appended to.</span></span> <span data-ttu-id="c05c3-129">Neue Zertifikate werden der Liste hinzugefügt, wenn das vorherige Signaturzertifikat abgelaufen ist und die Paketquelle mit der Verwendung eines neuen Signatur Zertifikats beginnen muss.</span><span class="sxs-lookup"><span data-stu-id="c05c3-129">New certificates would be added to the list when the previous signing certificate has expired and the package source needs to start using a new signing certificate.</span></span> <span data-ttu-id="c05c3-130">Wenn ein Zertifikat aus der Liste entfernt wird, bedeutet dies, dass alle mit dem entfernten Signaturzertifikat erstellten Paket Signaturen vom Client nicht mehr als gültig eingestuft werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-130">If a certificate is removed from the list, that means that all package signatures created with the removed signing certificate should no longer be considered valid by the client.</span></span> <span data-ttu-id="c05c3-131">In diesem Fall ist die Paket Signatur (aber nicht unbedingt das Paket) ungültig.</span><span class="sxs-lookup"><span data-stu-id="c05c3-131">In this case, the package signature (but not necessarily the package) is invalid.</span></span> <span data-ttu-id="c05c3-132">In einer Client Richtlinie kann die Installation des Pakets als nicht signiert zugelassen werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-132">A client policy may allow installing the package as unsigned.</span></span>

<span data-ttu-id="c05c3-133">Im Fall einer Zertifikat Sperrung (z. b. ein wichtiger Kompromiss), wird von der Paketquelle erwartet, dass alle vom betroffenen Zertifikat signierten Pakete neu signiert werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-133">In the case of certificate revocation (e.g. key compromise), the package source is expected to re-sign all packages signed by the affected certificate.</span></span> <span data-ttu-id="c05c3-134">Außerdem sollte die Paketquelle das betroffene Zertifikat aus der Liste der Signatur Zertifikate entfernen.</span><span class="sxs-lookup"><span data-stu-id="c05c3-134">Additionally, the package source should remove the affected certificate from the signing certificate list.</span></span>

<span data-ttu-id="c05c3-135">Die folgende Anforderung Ruft den Repository-Signatur Index ab.</span><span class="sxs-lookup"><span data-stu-id="c05c3-135">The following request fetches the repository signatures index.</span></span>

```
GET {@id}
```

<span data-ttu-id="c05c3-136">Der Repository-Signatur Index ist ein JSON-Dokument, das ein-Objekt mit den folgenden Eigenschaften enthält:</span><span class="sxs-lookup"><span data-stu-id="c05c3-136">The repository signature index is a JSON document that contains an object with the following properties:</span></span>

<span data-ttu-id="c05c3-137">Name</span><span class="sxs-lookup"><span data-stu-id="c05c3-137">Name</span></span>                | <span data-ttu-id="c05c3-138">Typ</span><span class="sxs-lookup"><span data-stu-id="c05c3-138">Type</span></span>             | <span data-ttu-id="c05c3-139">Erforderlich</span><span class="sxs-lookup"><span data-stu-id="c05c3-139">Required</span></span> | <span data-ttu-id="c05c3-140">Notizen</span><span class="sxs-lookup"><span data-stu-id="c05c3-140">Notes</span></span>
------------------- | ---------------- | -------- | -----
<span data-ttu-id="c05c3-141">allRepositorySigned</span><span class="sxs-lookup"><span data-stu-id="c05c3-141">allRepositorySigned</span></span> | <span data-ttu-id="c05c3-142">boolean</span><span class="sxs-lookup"><span data-stu-id="c05c3-142">boolean</span></span>          | <span data-ttu-id="c05c3-143">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-143">yes</span></span>      | <span data-ttu-id="c05c3-144">Muss sich `false` auf 4.7.0-und 4.9.0-Ressourcen befinden</span><span class="sxs-lookup"><span data-stu-id="c05c3-144">Must be `false` on 4.7.0 and 4.9.0 resources</span></span>
<span data-ttu-id="c05c3-145">signingzertifikate</span><span class="sxs-lookup"><span data-stu-id="c05c3-145">signingCertificates</span></span> | <span data-ttu-id="c05c3-146">Array von Objekten</span><span class="sxs-lookup"><span data-stu-id="c05c3-146">array of objects</span></span> | <span data-ttu-id="c05c3-147">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-147">yes</span></span>      | 

<span data-ttu-id="c05c3-148">Der `allRepositorySigned` boolesche Wert ist auf "false" festgelegt, wenn die Paketquelle über einige Pakete ohne Repository-Signatur verfügt.</span><span class="sxs-lookup"><span data-stu-id="c05c3-148">The `allRepositorySigned` boolean is set to false if the package source has some packages that have no repository signature.</span></span> <span data-ttu-id="c05c3-149">Wenn der boolesche Wert auf true festgelegt ist, müssen alle Pakete, die in der Quelle verfügbar sind, über eine Repository-Signatur verfügen, die von einem der Signatur Zertifikate in erstellt wird `signingCertificates` .</span><span class="sxs-lookup"><span data-stu-id="c05c3-149">If the boolean is set to true, all packages available on the source must have a repository signature produced by one of the signing certificates mentioned in `signingCertificates`.</span></span>

> [!Warning]
> <span data-ttu-id="c05c3-150">Der `allRepositorySigned` boolesche Wert muss für die 4.7.0-und 4.9.0-Ressourcen den Wert false aufweisen.</span><span class="sxs-lookup"><span data-stu-id="c05c3-150">The `allRepositorySigned` boolean must be false on the 4.7.0 and 4.9.0 resources.</span></span> <span data-ttu-id="c05c3-151">Die Clients für nuget v 4.7, v 4.8 und v 4.9 können Pakete nicht aus Quellen installieren, bei denen `allRepositorySigned` auf "true" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="c05c3-151">NuGet v4.7, v4.8, and v4.9 clients cannot install packages from sources that have `allRepositorySigned` set to true.</span></span>

<span data-ttu-id="c05c3-152">`signingCertificates`Wenn der `allRepositorySigned` boolesche Wert auf true festgelegt ist, muss ein oder mehrere Signatur Zertifikate im Array vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="c05c3-152">There should be one or more signing certificates in the `signingCertificates` array if the `allRepositorySigned` boolean is set to true.</span></span> <span data-ttu-id="c05c3-153">Wenn das Array leer ist und `allRepositorySigned` auf true festgelegt ist, sollten alle Pakete aus der Quelle als ungültig eingestuft werden, obwohl eine Client Richtlinie weiterhin die Verwendung von Paketen zulässt.</span><span class="sxs-lookup"><span data-stu-id="c05c3-153">If the array is empty and `allRepositorySigned` is set to true, all packages from the source should be considered invalid, although a client policy may still allow consumption of packages.</span></span> <span data-ttu-id="c05c3-154">Jedes Element in diesem Array ist ein JSON-Objekt mit den folgenden Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="c05c3-154">Each element in this array is a JSON object with the following properties.</span></span>

<span data-ttu-id="c05c3-155">Name</span><span class="sxs-lookup"><span data-stu-id="c05c3-155">Name</span></span>         | <span data-ttu-id="c05c3-156">Typ</span><span class="sxs-lookup"><span data-stu-id="c05c3-156">Type</span></span>   | <span data-ttu-id="c05c3-157">Erforderlich</span><span class="sxs-lookup"><span data-stu-id="c05c3-157">Required</span></span> | <span data-ttu-id="c05c3-158">Notizen</span><span class="sxs-lookup"><span data-stu-id="c05c3-158">Notes</span></span>
------------ | ------ | -------- | -----
<span data-ttu-id="c05c3-159">contentUrl</span><span class="sxs-lookup"><span data-stu-id="c05c3-159">contentUrl</span></span>   | <span data-ttu-id="c05c3-160">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="c05c3-160">string</span></span> | <span data-ttu-id="c05c3-161">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-161">yes</span></span>      | <span data-ttu-id="c05c3-162">Absolute URL zum der der-codierten öffentlichen Zertifikat</span><span class="sxs-lookup"><span data-stu-id="c05c3-162">Absolute URL to the DER-encoded public certificate</span></span>
<span data-ttu-id="c05c3-163">Abdrücke</span><span class="sxs-lookup"><span data-stu-id="c05c3-163">fingerprints</span></span> | <span data-ttu-id="c05c3-164">object</span><span class="sxs-lookup"><span data-stu-id="c05c3-164">object</span></span> | <span data-ttu-id="c05c3-165">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-165">yes</span></span>      |
<span data-ttu-id="c05c3-166">subject</span><span class="sxs-lookup"><span data-stu-id="c05c3-166">subject</span></span>      | <span data-ttu-id="c05c3-167">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="c05c3-167">string</span></span> | <span data-ttu-id="c05c3-168">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-168">yes</span></span>      | <span data-ttu-id="c05c3-169">Der Distinguished Name des Antragstellers aus dem Zertifikat.</span><span class="sxs-lookup"><span data-stu-id="c05c3-169">The subject distinguished name from the certificate</span></span>
<span data-ttu-id="c05c3-170">Issuer (Aussteller)</span><span class="sxs-lookup"><span data-stu-id="c05c3-170">issuer</span></span>       | <span data-ttu-id="c05c3-171">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="c05c3-171">string</span></span> | <span data-ttu-id="c05c3-172">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-172">yes</span></span>      | <span data-ttu-id="c05c3-173">Der Distinguished Name des Zertifikat Ausstellers.</span><span class="sxs-lookup"><span data-stu-id="c05c3-173">The distinguished name of the certificate's issuer</span></span>
<span data-ttu-id="c05c3-174">notBefore</span><span class="sxs-lookup"><span data-stu-id="c05c3-174">notBefore</span></span>    | <span data-ttu-id="c05c3-175">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="c05c3-175">string</span></span> | <span data-ttu-id="c05c3-176">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-176">yes</span></span>      | <span data-ttu-id="c05c3-177">Der Start Zeitstempel für die Gültigkeitsdauer des Zertifikats.</span><span class="sxs-lookup"><span data-stu-id="c05c3-177">The starting timestamp of the certificate's validity period</span></span>
<span data-ttu-id="c05c3-178">NotAfter</span><span class="sxs-lookup"><span data-stu-id="c05c3-178">notAfter</span></span>     | <span data-ttu-id="c05c3-179">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="c05c3-179">string</span></span> | <span data-ttu-id="c05c3-180">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-180">yes</span></span>      | <span data-ttu-id="c05c3-181">Der Endzeit Stempel der Gültigkeitsdauer des Zertifikats.</span><span class="sxs-lookup"><span data-stu-id="c05c3-181">The ending timestamp of the certificate's validity period</span></span>

<span data-ttu-id="c05c3-182">Beachten Sie, dass `contentUrl` erforderlich ist, um über HTTPS bedient zu werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-182">Note that the `contentUrl` is required to be served over HTTPS.</span></span> <span data-ttu-id="c05c3-183">Diese URL weist kein bestimmtes URL-Muster auf und muss mithilfe dieses Repository-Signatur Index Dokuments dynamisch erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="c05c3-183">This URL has no specific URL pattern and must be dynamically discovered using this repository signatures index document.</span></span> 

<span data-ttu-id="c05c3-184">Alle Eigenschaften in diesem Objekt (abgesehen von `contentUrl` ) müssen aus dem Zertifikat abgeleitet werden, das sich unter befindet `contentUrl` .</span><span class="sxs-lookup"><span data-stu-id="c05c3-184">All properties in this object (aside from `contentUrl`) must be derivable from the certificate found at `contentUrl`.</span></span>
<span data-ttu-id="c05c3-185">Diese derisierbaren Eigenschaften dienen als praktische Möglichkeit zur Minimierung von Roundtrips.</span><span class="sxs-lookup"><span data-stu-id="c05c3-185">These derivable properties are provided as a convenience to minimize round trips.</span></span>

<span data-ttu-id="c05c3-186">Das `fingerprints`-Objekt weist die folgenden Eigenschaften auf:</span><span class="sxs-lookup"><span data-stu-id="c05c3-186">The `fingerprints` object has the following properties:</span></span>

<span data-ttu-id="c05c3-187">Name</span><span class="sxs-lookup"><span data-stu-id="c05c3-187">Name</span></span>                   | <span data-ttu-id="c05c3-188">Typ</span><span class="sxs-lookup"><span data-stu-id="c05c3-188">Type</span></span>   | <span data-ttu-id="c05c3-189">Erforderlich</span><span class="sxs-lookup"><span data-stu-id="c05c3-189">Required</span></span> | <span data-ttu-id="c05c3-190">Notizen</span><span class="sxs-lookup"><span data-stu-id="c05c3-190">Notes</span></span>
---------------------- | ------ | -------- | -----
<span data-ttu-id="c05c3-191">2.16.840.1.101.3.4.2.1</span><span class="sxs-lookup"><span data-stu-id="c05c3-191">2.16.840.1.101.3.4.2.1</span></span> | <span data-ttu-id="c05c3-192">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="c05c3-192">string</span></span> | <span data-ttu-id="c05c3-193">ja</span><span class="sxs-lookup"><span data-stu-id="c05c3-193">yes</span></span>      | <span data-ttu-id="c05c3-194">Der SHA-256-Fingerabdruck</span><span class="sxs-lookup"><span data-stu-id="c05c3-194">The SHA-256 fingerprint</span></span>

<span data-ttu-id="c05c3-195">Der Schlüssel Name `2.16.840.1.101.3.4.2.1` ist die OID des SHA-256-Hash Algorithmus.</span><span class="sxs-lookup"><span data-stu-id="c05c3-195">The key name `2.16.840.1.101.3.4.2.1` is the OID of the SHA-256 hash algorithm.</span></span>

<span data-ttu-id="c05c3-196">Alle Hashwerte müssen aus Kleinbuchstaben und hexadezimal codierten Zeichen folgen Darstellungen des Hash Digest bestehen.</span><span class="sxs-lookup"><span data-stu-id="c05c3-196">All hash values must be lowercase, hex-encoded string representations of the hash digest.</span></span>

### <a name="sample-request"></a><span data-ttu-id="c05c3-197">Beispiel für eine Anforderung</span><span class="sxs-lookup"><span data-stu-id="c05c3-197">Sample request</span></span>

```
GET https://api.nuget.org/v3-index/repository-signatures/index.json
```

### <a name="sample-response"></a><span data-ttu-id="c05c3-198">Beispiel für eine Antwort</span><span class="sxs-lookup"><span data-stu-id="c05c3-198">Sample response</span></span>

[!code-JSON [repository-signatures-index.json](./_data/repository-signatures-index.json)]
